
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>Day2 | Aurora0702</title>
    <meta name="author" content="Qing" />
    <meta name="description" content="May everything you work for have a romantic outcome in the future ．" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />


<meta name="generator" content="Hexo 6.3.0"></head>
<body>
	<canvas
		id="fireworks"
		style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
	></canvas>
	<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
	<script src="/js/fireworks.min.js"></script>
	
	<canvas
    id="background"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
	></canvas>
	<script src="/js/background.min.js"></script>
	
	<div id="cursor"></div>
	<link rel="stylesheet" href="/css/cursor.min.css" />
	<script src="/js/cursor.min.js"></script>
	
	



    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>AURORA0702</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;AURORA0702</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>Day2</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/9/16
        </span>
        
        <span class="category">
            <a href="/categories/WEB/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                -WEB
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/WEB/" style="color: #00bcd4">-WEB</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h1><p>数据包，实操……</p>
<hr>
<span id="more"></span>

<h1 id="数据包"><a href="#数据包" class="headerlink" title="数据包"></a>数据包</h1><h2 id="Request请求数据包数据格式"><a href="#Request请求数据包数据格式" class="headerlink" title="Request请求数据包数据格式"></a>Request请求数据包数据格式</h2><p> 1.请求行：</p>
<p>  请求类型&#x2F;请求资源路径 ，协议的版本和类型</p>
<p>2.请求头：</p>
<p>  一些键值对，浏览器于web服务器之间都可以发送，特定的某种含义</p>
<p>3.空行：</p>
<p>请求头和请求体之间用一个空行隔开</p>
<p>4.请求体：</p>
<p>  要发送的数据（一般post提交会使用）</p>
<pre><code>#请求行
1.请求行由三个标记组成: 
  请求方法、请求URL和HTTP版本，它们用空格分隔
  例如: 
GET /index.html HTTP/1.1

2.HTTP 规划定义了8种可能的请求方法:
  GET:检索URL中标识资源的一个简单请求
  HEAD:与GET方法相同，服务器只返回状态行和头标，并不返回请求文档
  POST:服务器接受被写入客户端输出流中的数据的请求
  PUT:服务器保存请求数据作为指定URL新内容的请求
  DELETE:服务器删除URL中命令的资源的请求
  OPTIONS:关于服务器支持的请求方法信息的请求
  TRACE: web服务器反馈Http请求和其头标的请求
  CONNECT : 已文档化，但当前未实现的一个方法，预留做隧道处理
</code></pre>
<pre><code>#请求头
由关键字/值对组成，每行一对，关键字和值用冒号分享。请求头标通知服务器腾于客户端的功能和标识。
  HOST:主机或域名地址
  
  Accept:指浏览器或其他客户可以接爱的MIME文件格式。Servlet可以根据它判断并返回适当的文件格式。
  
  User-Agent:是客户浏览器名称
  
  Host:对应网址URL中的web名称和端口号。
  
  Accept-Langeuage: 指出浏览器可以接受的语言种类，如en或en-us，指英语.
  
  connection:用来告诉服务器是否可以维持固定的HTTP连接。http是无连接14的，HTTP/1.1使用Keep-Alive为默认值，这样，当浏览器需要多个文件时(比个HTML文件和相关的图形文件)，不需要每次都建立连接
  
  Cookie: 浏览器用这个属性向服务器发送Cookie。Cookie是在浏览器中寄存的小型数据体，它可以记载和服务器相关的用户信息，也可以用来实现会话功能。
  
  Referer:表明产生请求的网页URL。如比从网页/icconcept/index.jsp中点击一个链接到网页/icwork/search，在向服务器发送的GET/icwork/search中的请求中，Referer是http://hostname:8080/icconcept/index.jsp。这个属性可以用来跟踪web请求是从什么网站来的。
  
  Content-Type:用来表名request的内容类型。可以用HttpServletReques的getContentType() 方法取得。
  
  Accept-charset: 指出浏览器可以接受的字符编码。英文浏览器的默认值是IOS-8859-1。
  
  Accept-Encoding:指出浏览器可以接受的编码方式。编码方式不同于文件格式，它是为了压缩文件并加速文件传递速度。浏览器在接收到web响应之后先解码，然后再检查文件格式。
</code></pre>
<pre><code>#空行
最后一个请求头标之后是空行，发送回车符和退行，通知服务器以下不再有头标。
</code></pre>
<pre><code>#请求数据
使用post传送，最常使用的是Content-Type和Content-Length 头标。
</code></pre>
<h2 id="Response返回数据包数据格式"><a href="#Response返回数据包数据格式" class="headerlink" title="Response返回数据包数据格式"></a>Response返回数据包数据格式</h2><pre><code>#Response返回数据包数据格式
个响应由四个部分组成;状态行、响应头标、空行、响应数据。

1.状态行:协议版本、数字形式的状态代码和状态描述，个元素之间以空格分隔
2.响应头标:包含服务器类型、日期、长度、内容类型等
3.空行:响应头与响应体之间用空行隔开
4.响应数据:浏览器会将实体内容中的数据取出来，生成相应的页面

HTTP响应码:
1xx:信息，请求收到，继续处理10
2xx:成功，行为被成功地接受、理解和采纳
3xx:重定向，为了完成请求，必须进一步执行的动作
4xx:客户端错误
5xx:服务器错误

常见的 HTTP 状态码：
200 - 请求成功
301 - 资源（网页等）被永久转移到其它URL
404 - 请求的资源（网页等）不存在
500 - 内部服务器错误
</code></pre>
<p>具体的可以查看：</p>
<p>[HTTP响应码](<a target="_blank" rel="noopener" href="https://www.runoob.com/http/http-status-codes.html">HTTP 状态码 | 菜鸟教程 (runoob.com)</a>)</p>
<p>很多工具的原理采用的都是探测HTTP的状态码。</p>
<p>Proxy代理服务器</p>
<p>HTTPS相当于HTTP访问速度会稍微慢一点</p>
<h1 id="实操"><a href="#实操" class="headerlink" title="实操"></a>实操</h1><p>好嘟，实操一下吧，<a target="_blank" rel="noopener" href="https://www.mozhe.cn/">墨者学院_专注于网络安全人才培养 (mozhe.cn)</a></p>
<p>在这个上面貌似方便一点。</p>
<h2 id="1-浏览器信息伪造"><a href="#1-浏览器信息伪造" class="headerlink" title="1.浏览器信息伪造"></a>1.浏览器信息伪造</h2><p><img src="/2023/09/16/Day2/1.1.png"></p>
<p>根据他的要求直接修改这（ User-Agent:客户浏览器名称）就行</p>
<pre><code>Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_2 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13F69 MicroMessenger/6.6.1 NetType/2G 
</code></pre>
<p><img src="/2023/09/16/Day2/1.2.png" alt="1.2">好嘟，成功啦！</p>
<p><img src="/2023/09/16/Day2/1.3.png" alt="1.3"></p>
<p>这里记一下User-Agent相关的东西:</p>
<pre><code>浏览器通常使用的格式：
User-Agent: Mozilla/&lt;version&gt; (&lt;system-information&gt;) &lt;platform&gt; (&lt;platform-details&gt;) &lt;extensions&gt;

其中：
&lt;product&gt;
产品识别码。

&lt;product-version&gt;
产品版本号。

&lt;comment&gt;
零个或多个关于组成产品信息的注释

eg：
Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36

解析一下：
第一部分：Mozilla/5.0
  默认都带上这个值

第二部分：(Windows NT 10.0; Win64; x64)
  表示操作系统版本，Windows NT 10.0就是win10系统，Win64; x64表示的是64位系统

第三部分：AppleWebKit/537.36 (KHTML, like Gecko)
  表示搜索引擎，也就是浏览器内核

第四部分：Chrome/79.0.3945.117 Safari/537.36
  表示浏览器的版本


关于操作系统版本可以看这个：https://zhuanlan.zhihu.com/p/146290394
</code></pre>
<p>还有他其中提到的微信NetType：</p>
<pre><code>从微信6.0开始，其内嵌的浏览器在User Agent字符串中增加了NetType字段用于标识客户端（手机）当前的网络环境，经测试，该字段至少有以下3个取值：
NetType/WIFI
NetType/2G
NetType/3G+
分别对应于Wifi、2G、3G以上网络环境。

因此，Web服务器可以据此识别客户端网络环境并提供有针对性的内容。
</code></pre>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lilin_emcc/article/details/40145113">微信6.0内嵌浏览器User-Agent字符串增加了NetType字段_微信nettype_quark~的博客-CSDN博客</a></p>
<h2 id="2-来源页伪造"><a href="#2-来源页伪造" class="headerlink" title="2.来源页伪造"></a>2.来源页伪造</h2><p><img src="/2023/09/16/Day2/2.1.png" alt="2.1"></p>
<p>又又付费之后……</p>
<p><img src="/2023/09/16/Day2/2.2.png" alt="2.2"></p>
<p>他说只能从 google.com 来访问，要求还怪多的嘞，老样子。</p>
<p>这次需要修改的是</p>
<pre><code> Referer:表明产生请求的网页URL。这个属性可以用来跟踪web请求是从什么网站来的。
</code></pre>
<p><img src="/2023/09/16/Day2/2.3.png" alt="2.3"></p>
<p>直接把后面的 index.html 修改成 google.com</p>
<p>发送，得到key。</p>
<p><img src="/2023/09/16/Day2/2.4.png" alt="2.4"></p>
<h2 id="3-IP地址伪造-第1题"><a href="#3-IP地址伪造-第1题" class="headerlink" title="3.IP地址伪造(第1题)"></a>3.IP地址伪造(第1题)</h2><p><img src="/2023/09/16/Day2/3.png" alt="3"></p>
<p>常见的弱口令，查一下啊</p>
<p>这里用admin - admin </p>
<p><img src="/2023/09/16/Day2/3.1.png" alt="3.1"></p>
<p>发现登录之后给了这么一段话：<img src="/2023/09/16/Day2/3.2.png" alt="3.2"></p>
<p>同样的操作，我们只需要加一下：</p>
<pre><code>X-Forwarded-For：127.0.0.1
</code></pre>
<p>重新发包，之后就得到key。</p>
<p><img src="/2023/09/16/Day2/3.3.png" alt="3.3"></p>
<p>php中获取ip地址：</p>
<ul>
<li>借助<strong>X-Forwarded-For</strong>获取</li>
</ul>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 Aurora0702
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Qing
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
